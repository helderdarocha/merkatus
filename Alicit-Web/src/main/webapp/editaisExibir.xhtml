<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>
        <title>Alicit 1.0 Beta</title>
        <link rel="stylesheet" href="/resources/css/alicit.css" type="text/css"></link>
    </h:head>
    <h:body>
        <ui:debug  />
        <ui:composition template="/resources/mainTemplate.xhtml">
            <ui:define name="top">
                <ui:include src="menu.xhtml" />
            </ui:define>
            <ui:define name="content">

                <h1>Cadastro de Editais</h1>
                
                    <p:fieldset legend="Detalhamento de Edital">
                        <h:panelGrid columns="2">
                            <p:outputLabel >ID do edital </p:outputLabel> 
                            <p:outputLabel styleClass="result" value="#{currentEditalManagedBean.currentEdital.id}" />

                            <p:outputLabel >Número do edital </p:outputLabel> 
                            <p:outputLabel styleClass="result" value="#{currentEditalManagedBean.currentEdital.numeroEdital}"  />

                            <p:outputLabel >Número #{currentEditalManagedBean.currentEdital.comprador.portal.idCodigoComprador} </p:outputLabel> 
                            <p:outputLabel styleClass="result" value="#{currentEditalManagedBean.currentEdital.numeroEditalComprador}" />

                            <p:outputLabel >Nome do edital </p:outputLabel> 
                            <p:outputLabel styleClass="result" value="#{currentEditalManagedBean.currentEdital.nomeDisplay}" />

                            <p:outputLabel >Cnpj comprador </p:outputLabel> 
                            <p:outputLabel styleClass="result" value="#{currentEditalManagedBean.currentEdital.cnpjComprador}" />

                            <p:outputLabel >Comprador </p:outputLabel> 
                            <p:outputLabel styleClass="result" value="#{currentEditalManagedBean.currentEdital.comprador.portal.nomeLongo} (#{currentEditalManagedBean.currentEdital.comprador.portal.nomeCurto})" />

                            <p:outputLabel >Data de abertura </p:outputLabel> 
                            <p:calendar readonly="true" styleClass="dateDisplay" value="#{currentEditalManagedBean.currentEdital.dataAbertura}" pattern="dd/MM/yyyy">
                                <f:converter converterId="DateConverter" />
                            </p:calendar>

                            <p:outputLabel >Email </p:outputLabel> 
                            <p:outputLabel styleClass="result" value="#{currentEditalManagedBean.currentEdital.email}" />

                            <p:outputLabel >Telefone entrega </p:outputLabel> 
                            <p:outputLabel styleClass="result" value="#{currentEditalManagedBean.currentEdital.telefoneEntrega}" />

                            <p:outputLabel >Telefone cobrança </p:outputLabel> 
                            <p:outputLabel styleClass="result" value="#{currentEditalManagedBean.currentEdital.telefoneCobranca}" />

                            <p:outputLabel >Endereço entrega </p:outputLabel> 
                            <p:outputLabel styleClass="result" value="#{currentEditalManagedBean.currentEdital.enderecoEntrega}" />

                            <p:outputLabel >Endereço envio de documentação </p:outputLabel> 
                            <p:outputLabel styleClass="result" value="#{currentEditalManagedBean.currentEdital.enderecoEnvioDocumentacao}" />
                        </h:panelGrid>

                        <p:outputLabel >Produtos</p:outputLabel> 
                        <h:dataTable styleClass="table" width="100%" id="produtoTable" 
                                     value="#{currentEditalManagedBean.currentEdital.itensProduto}" 
                                     var="itemProduto"
                                     columnClasses="one, two, preco, preco, preco">
                            <h:column>
                                <f:facet name="header">  
                                    <h:outputText value="Código" />  
                                </f:facet>  
                                #{itemProduto.produto.codigo}
                            </h:column>
                            <h:column>
                                <f:facet name="header">  
                                    <h:outputText value="Nome" />  
                                </f:facet>  
                                #{itemProduto.produto.nome}
                            </h:column>
                            <h:column>
                                <f:facet name="header">  
                                    <h:outputText value="Preço" />  
                                </f:facet>  
                                <h:outputText value="#{itemProduto.produto.preco}">
                                    <f:convertNumber currencySymbol="R$" type="currency" locale="pt-BR" />
                                </h:outputText>
                            </h:column>
                            <h:column>
                                <f:facet name="header">  
                                    <h:outputText value="Quantidade" />  
                                </f:facet>  
                                <h:outputText value="#{itemProduto.quantidade}"/>
                            </h:column>
                            <h:column>
                                <f:facet name="header">  
                                    <h:outputText value="Subtotal" />  
                                </f:facet>  
                                <h:outputText id="subtotal" value="#{itemProduto.valorTotal}">
                                    <f:convertNumber currencySymbol="R$" type="currency" locale="pt-BR" />
                                </h:outputText>
                            </h:column>
                        </h:dataTable> 


                        <p:outputLabel >Itens de habilitação</p:outputLabel> 
                        <h:dataTable styleClass="table" width="100%" id="itemTable" 
                                     value="#{currentEditalManagedBean.currentEdital.itensHabilitacao}" 
                                     var="itemHabilitacao">
                            <h:column>
                                <f:facet name="header">  
                                    <h:outputText value="Código" />  
                                </f:facet>  
                                #{itemHabilitacao.codigo}
                            </h:column>
                            <h:column>
                                <f:facet name="header">  
                                    <h:outputText value="Descrição" />  
                                </f:facet>  
                                #{itemHabilitacao.descricao}
                            </h:column>
                        </h:dataTable>
                        
                        <p>Valor total: <b><h:outputText id="valorTotal" value="#{currentEditalManagedBean.currentEdital.valorTotal}">
                                    <f:convertNumber currencySymbol="R$" type="currency" locale="pt-BR" />
                                </h:outputText></b></p>

                        <h:commandButton value="Voltar" action="editais"/>
                    </p:fieldset>
                

            </ui:define>
        </ui:composition>
    </h:body>
</html>
